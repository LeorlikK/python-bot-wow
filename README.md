# Resources Farmer for Warcraft

## Основные технологии:
- pytesseract: 0.3.10
- opencv-python: 4.8.0
- numpy: 1.25.2

## Описание:
Бот для личных нужд! Летает по заданным координатам, обнаруживает ресурсы, собирает, уничтожает всё живое, если оно мешает собирать ресурсы.
Местоположение определяется перемножением количества ярдов в 1-м градусе в метры.
Пройденное расстояние рассчитывается по 2 точкам с задержкой в 0.3 сек. Расстояние до цели рассчитывается путем построения треугольника между местоположением игрока и точкой назначения.
Угол поворота к заданной координате определяется за счет первой точки, второй точки, построения иллюзорного вектора
на их основе и нахождением внешнего угла получившегося треугольника.

Поиск ресурсов осуществляется по карте. Кол-во пикселей отделяющих точку игрока от ресурса перемножается в ярды. После этого определяется приблизительная координата нахождения ресурса, тип ресурса(pytesseract считывает название и сопоставляет с имеющимися)
и происходит поиск ближайшей координаты ресурса из представленных в **Resources**. Строится новый временный маршрут с посещением этой точки, сбор ресурсов, и возвращение на маршрут.

### Наглядная памятка
#### triangle
- <img src="./preview/triangle.png" alt="1" width="400"/>
#### calculations
- <img src="./preview/calculations.png" alt="1" width="400"/>

## Pytesseract:
Используется для перевода координат с экрана в цифру и для распознавания текста наименования ресурсов.
Требуется локальная установка и указание директории( ```"tesseract": "C:\\Program Files\\Tesseract-OCR\\tesseract.exe"```)

## Files:
- img - папка с необходимыми образцами изображений.
- Logs - папка с необходимыми образцами изображений.
- Resources - папка с координатами ресурсов.
- coordinat.txt - координаты маршрута полета.
- dead_logs.txt - запись времени и причины смерти.
- error.txt - запись технических ошибок скрипта.
- grab_resurses.txt - время и тип собранных ресурсов.
- main_error.txt - ошибки запуска.
- not_resources.txt - отмечает координаты мест, где должны быть ресурсы, но их не удалось обнаружить больше 5 раз подряд.
- profile.json - персональные настройки для разных аккаунтов.


